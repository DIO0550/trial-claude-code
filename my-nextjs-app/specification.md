# 五目並べ（Gomoku）ゲーム仕様書

## ゲーム概要
Next.jsで実装する五目並べ（Gomoku）ゲーム。プレイヤーがCPUと対戦する形式。

## 基本ルール
- **ボードサイズ**: 15×15のグリッド
- **プレイヤー**: プレイヤー vs CPU
- **石の種類**: プレイヤー（黒石）、CPU（白石）
- **先手**: プレイヤー（黒石）から開始
- **勝利条件**: 縦・横・斜めのいずれかで5個連続して石を並べる

## ゲームフロー
1. プレイヤーが任意の交点に黒石を置く
2. CPUが自動的に最適な位置に白石を置く
3. 交互に石を置き続ける
4. 5個連続で並んだ側の勝利
5. ボードが埋まって勝者が決まらない場合は引き分け

## CPU AI仕様
- **難易度**: 中級レベル（基本的な戦略を持つ）
- **戦略**:
  - 自分の勝利パターンを優先
  - プレイヤーの勝利阻止を次優先
  - 中央付近への配置を重視
  - ランダム要素を含む

## 実装機能

### 必須機能
- **ゲームボード表示**: 15×15のクリッカブルなグリッド
- **石の配置**: プレイヤーのクリックで石を配置
- **CPU自動配置**: CPUターンで自動的に石を配置
- **ターン表示**: 現在のプレイヤー（プレイヤー/CPU）を表示
- **勝利判定**: リアルタイムで勝敗をチェック
- **ゲーム状態表示**: 進行中/勝利/引き分け
- **ゲームリセット**: 新しいゲームを開始

### オプション機能
- **ゲーム履歴**: 手順の記録・表示
- **思考時間表示**: CPUの思考中インジケーター
- **勝利ライン表示**: 勝利時に5個並んだラインをハイライト
- **統計情報**: 勝敗記録

## UI/UX要件
- **レスポンシブデザイン**: デスクトップ・モバイル対応
- **視覚的フィードバック**: ホバー効果、石の配置アニメーション
- **ゲーム状態表示**: 現在のターン、勝者、引き分け
- **操作制限**: 既に石がある場所や、ゲーム終了後の配置を防ぐ
- **アクセシビリティ**: キーボード操作対応

## 技術要件
- **フレームワーク**: Next.js (App Router)
- **スタイリング**: Tailwind CSS
- **テスト**: Vitest + React Testing Library
- **ストーリーブック**: コンポーネント開発・ドキュメント
- **TypeScript**: 型安全性の確保

## ディレクトリ構成案
```
src/
  components/
    GameBoard/
    GameStatus/
    GameControls/
  hooks/
    useGameLogic.ts
    useGomokuAI.ts
  types/
    game.ts
  utils/
    gameLogic.ts
    aiAlgorithm.ts
```

## 開発フェーズ
1. **Phase 1**: 基本ゲームロジックとUI
2. **Phase 2**: CPU AI実装
3. **Phase 3**: UI/UX改善とアニメーション
4. **Phase 4**: テスト・最適化